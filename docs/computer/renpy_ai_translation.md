---
article: true
title: AI大模型翻译Ren'py游戏流程
---

> [!important]
> 本文章具有时效性
> 请关注笔者使用的工具版本、游戏版本

> [!caution]
> 不要在原游戏目录下操作！

是不是还在为看不懂英文，啃不动生肉而发愁？
是不是早就看不惯机翻汉化包？
没关系，我来助你！
今天，我们就来使用最新的AI大模型来制作属于自己的汉化。
推翻人机统治！世界属于熟肉！

本方法无需破坏游戏源代码，仅需自行添加一个多语言选项或入口即可！

这篇文章真的凝结了许多心血，笔者花了40h、将近1k才摸到门道，
废了的四十多行，是探索了一天两夜的旧方案，第三天起床重新检索才找到了通用的工具。。。
2025年7月9日开始第一次汉化，一直到7月16日才完成汉化，开始给这篇文章做最后的排版美化
希望不要随便转载这篇文章，给我一点最后的慰藉吧...
点击下面组件即可快捷分享
<share />

代做可以[E-mail](mailto:chidao_douyu@foxmail.com)笔者哦~
<!-- more -->

## 基本步骤
并非详细教程、浏览一遍做到心中有数即可
1. 备份游戏
2. [解包](#解包)
3. [提取](#提取)
    - [官方提取翻译文本](#官方提取翻译文本)
    - 备份
    - [处理数据](#处理数据)

4. 制作汉化包
    - [应用字体](#应用字体)
    - [添加入口(非定制ui)](#添加入口)
    [添加入口(定制ui)](renpyui.md)
    - 拷贝到游戏原件中测试
5. [测试汉化脚本](#测试汉化脚本)
6. [AI翻译](#翻译)
    - [购买API](#购买API)
    - [添加API](#添加API)
    - [开始翻译](开始翻译)
7. [检查文本](#检查文本)
8. [完成](#完成)

## 下载游戏
少白嫖、多补票，世界更美好

## 准备工作
### 游戏准备
1. 首先，先来分析一下手里的游戏是什么框架的
本文是为 Ren'py 游戏量身打造的流程
而其他框架也无需慌张，只要找到办法提取文本就行
只要文本能提出来，剩下的都好说
    |游戏|特征|
    |---|---|
    |Ren'py|目录 `游戏根目录/renpy`|
    |...|...|

2. 将游戏拷贝两份到非系统盘下的短路径中
分别重命名加上 `unrpy` 和 `test`
**之后的操作都将在该拷贝副本中进行**
3. 拷贝后就不要进入原本的游戏目录了
4. 删除 `%APPDATA%/RenPy/` 下你要汉化的游戏的目录
如果有多款游戏的话，建议一款一款进行汉化，不要同时操作多款游戏

### 工具准备
1. AiNiee [Github](https://github.com/NEKOparapa/AiNiee/releases)
2. Renpy Translator[Github](https://github.com/anonymousException/renpy-translator/releases)
3. 大模型API
> 作者使用的版本
> Ainiee 7
> Ren'py翻译器 v2.5.7

## 解包
1. 启动Renpy Translator
2. 选择 `高级选项` -> `解压游戏包`
![导航](http://pic.puremcs.top:40027/i/2025/07/16/687698f7bb631.png)
3. 确认文件文本框为空
将游戏 `unrpy` 副本的可执行程序拖动到文件白框中
并再次确认白框中是否仅有刚刚选中的 `.exe` 文件
4. 勾选下方全部三个复选框
5. 点击 `解包`
![解包](http://pic.puremcs.top:40027/i/2025/07/16/687699e7885a5.png)
6. 等待解包完成
期间不要移动修改任何文件
7. **检查日志**
解包完成后，程序会留下两个窗口，分别是原窗口以及日志
查看日志中是否打印有失败的任务，如图
若有失败，点击 `使用资源管理器查找日志文件` 
![日志](http://pic.puremcs.top:40027/i/2025/07/16/68769a32ce310.png)
8. (可选)查看失败日志
    1. 打开日志文件
    2. 找到最新一次解包的日志
    3. 在其中查找所有 `Error while`，检查搜索到的数量是否与上一步看到的错误数量相同
    4. 检查每一个错误信息，`renpy` 目录下文件的报错可忽略
    5. 有其他问题请在本文页面下方评论
> Ren'py翻译器会自动反编译，所以无须担心 `.rpyc` 文件会被覆盖
> 若解包过程中出现0kb的情况，请尝试更换其他更新的解包工具

## 提取
### 官方提取翻译文本
1. 关闭解包窗口，回到Ren'py翻译器主界面
2. 选择 `高级选项` -> `官方提取`
![导航](http://pic.puremcs.top:40027/i/2025/07/16/68769a9046c68.png)
3. 将游戏 `unrpy` 副本的 `.exe` 文件拖动到文件白框中
4. 填写 `game/tl` 名称，翻译为简体中文即可写为zhCN
注意：本名称必须是唯一的
且在翻译过程中，翻译文件也必须一致标注为该名称
这代表着如果你需要复用一些过去的翻译文件的话，必须将其中的标签改为这里设置的
标签格式为 `translate 标签 file_aaaaaa:`
5. 勾选下方复选框
6. 点击 `抽取`
![抽取](http://pic.puremcs.top:40027/i/2025/07/16/68769bddb921f.png)
7. 等待抽取完成
8. 观察到主页面右侧日志中打印 `official extraction complete!` 即代表抽取成功完成

### 处理数据
1. 来到 `game/tl/zhCN` 文件夹
2. 复制全部文件到 `D:\AiTranslate\游戏英文名无空格无符号\extraction` 目录中
3. 手动处理无需AI翻译的文件，以免浪费token
> 需要手动翻译的文件移到上级目录，并在之后进行人工翻译
> 例：`screens.rpy`, `options.rpy`等
> 无需翻译的文件可直接删除
> 例：`common.rpy`

4. 检查所有文本内容是否正确
> 部分文本因配置需要，会出现两次，请注意这并不是错误，如有需要，注意移出目录进行手动翻译。
> 在选项文本中，相同的字段会合并为同一个。

5. 记录无需翻译的字段
如：人名、地名等内容
6. 记录异常识别的字段

## 制作汉化包
**在桌面上创建汉化包目录**
### 应用字体
1. 建议使用思源黑体 [思源黑体 - Github Releases](https://github.com/adobe-fonts/source-han-sans/releases)
2. 若要使用其他字体，请注意：
    - 禁止使用不可商用的字体！
    - 尽量使用同时包含中文、英文和符号的字体！
3. 将下好的字体放到汉化包的 `game/fonts` 目录

> [!caution]
> 从此开始的以下方案仅在部分游戏中可行，我付费使用了 kyoxb 的方案
> 如需要该方案，请 [email联系](mailto:kyoxb2@163.com)

4. 在汉化包中递归创建 `game/tl/zhCN/style.rpy`
5. 在游戏 `unrpy` 副本的 `game` 目录中搜索 `font`
6. 寻找如图类似的字段，复制到 `style.rpy` 中
> 注意：部分特殊字形的字体不要替换！！！
> 如：`triangle` 等...

![搜索](http://pic.puremcs.top:40027/i/2025/07/16/68769da99a147.png)
7. 统一修改为如下形式
``` py
translate zhCN python:
    gui.text_font = "fonts/字体名.ttf"
translate zhCN style 模块名:
    font "fonts/字体名.ttf"
```

### 添加入口
1. 进入游戏 `unrpy` 副本的 `game` 目录
2. 复制 `screens.rpy` 到汉化包 `game` 目录下
3. 编辑汉化包内的 `screens.rpy`
4. 对照游戏内的设置页，寻找到相应的代码位置
> [!tip]
> 如果该文件内容超过了500行，那大概率是定制ui，有需要可以[e-mail笔者](mailto:chidao_douyu@foxmail.com)询问

5. 在合适的位置添加如下代码并保存
```
textbutton _("English") action Language(None)
textbutton _("Chinese") action Language("zhCN")
```

### 测试汉化脚本
1. 手动汉化游戏设置等文本
2. 汉化第一幕的对话文件
3. 将非对话文本翻译文件加入 `game\tl\zhCN` 目录
将对话翻译文件加入 `game\tl\zhCN\dialogue` 目录
自此，汉化包目录应为如下结构
``` :no-collapsed-lines
·
├── game
│    ├── fonts
│    │   └── 字体名.ttf // 字体文件
│    ├── tl
│    │   └── zhCN
│    │       ├── dialogue // 对话翻译文件专门目录
│    │       │    └── day1.rpy // 第一幕对话翻译文件
│    │       ├── style.rpy // 字体脚本
│    │       ├── screes.rpy // 设置文本翻译文件
│    │       └── ···
│    └── screens.rpy // 入口脚本
├── README.md // 汉化项目注释
├── version.md // 汉化项目版本号
└── ···
```
4. 在游戏 `test` 副本应用汉化包
5. 启动游戏测试汉化是否生效


## 翻译
### 购买API
1. 选择服务商
官方：OpenAI等...
第三方：OhMyGPT(免审查)
**国产大模型以及国内服务商提供的API请注意审查问题！**
2. 充值一定数额以免无效挂机
> [!note]
> 经多次调试，作者最终使用的供应商及模型信息如下
> 供应商：[OhMyGPT](https://www.ohmygpt.com?aff=CH7alyZM)
> 模型名称：`ark-deepseek-r1-250528` & `gpt-4o`
>
> ---
> 经测试，得出以下结论：
> `gpt-4o` 翻译质量最高，但价格相应也极高
> `gpt-3.5` & `gpt-4o-mini` 等模型翻译质量较低, 但价格低
> `DeepSeek R1` 翻译质量一般、价格极低

### 添加API
1. 记下大模型服务商提供的代理地址及秘钥
2. 在 AiNiee 中选择接口管理
3. 添加自定义接口
4. 接口名称设为 `服务商-模型`，配置接口地址、格式、秘钥以及模型
5. 填写完成后点击关闭即添加成功
6. 在接口管理界面右键接口，测试接口
7. 重复以上步骤添加你想测试效果的几组服务商与模型

### 开始翻译
1. 启动AiNiee
2. 进入接口管理，将要使用的接口拖动到下边的虚线槽位中
3. 进入任务设置
    - `任务切分模式` 改为行数模式
    - `任务的文本行数` 越低越好
    - 请求超时时间按服务商文档调整
    - 测试期间建议将 `任务流程的最大轮次` 改低到 `2` 或 `3`
4. 进入翻译设置
    - 配置 `原文语言` 和 `译文语言`
    - 配置 `参考上文行数` , gpt-4o 建议设为 `40` 行
    行数越多，提示消耗的Token越多，请平衡消耗与性能
5. `翻译提示词` -> `基础提示`, 并填写Prompt
以下为作者使用的Prompt，亲测稳定性达99.78%
    ```
    <!-- @include: AiTranslationPrompt.txt -->
    ```
6. 将异常识别的字段列入禁翻表中
7. 将无需翻译的字段配置在术语表中
8. 进入 `开始翻译`
9. 挑选一部分文件放到单独的目录中进行测试
翻译缓存和完成后自动保存的文件均在导入目录同级的 `AiNieeOutput`中
所以如果有多次翻译的需求，请至少隔离两层目录
示例如下
``` :no-collapsed-lines
·
├── GAME1
│    ├── TRANS1
│    │    ├── AiNieeOutput // 导出文件
│    │    └── Source // 源
│    │         ├── day1 // 翻译文件
│    │         ├── day2 // 翻译文件
│    │         ├── day3 // 翻译文件
│    │         └── ···
│    ├── TRANS2
│    │    ├── AiNieeOutput // 导出文件
│    │    └── Source // 源
│    │         ├── day11 // 翻译文件
│    │         ├── day12 // 翻译文件
│    │         ├── day13 // 翻译文件
│    │         └── ···
│    └── ···
├── GAME2
│    └── ···
└── ···
```
10. 将要进行翻译的**目录**拖动到虚线框中
    > 如有报错，请将文件十个一组分别放到同级不同目录中，各自拖动到虚线框中进行排查测试

11. 点击开始翻译
点击窗口右下角 `↑` 图标以打开/关闭翻译信息页
    > [!important]
    > 若中途电脑关机或API报错，请不要随意修改文件
    > 直接重启AiNiee，直接加载上一次的目录后点击 `继续` 即可保留进度继续翻译
12. 可以多测试几次，对比各个服务商的价格和翻译效果作对比
13. 测试结束后，可以将剩余文件放在一个目录里，直接一起全部翻译


## 检查文本
1. 完成后，打开输出目录，开始逐条检查
可尝试搜索：`""` `\"` `'`
常见的异常有：双引号异常转义、多种引号异常转义，和人名误翻等
2. 检查完后，逐一将文件复制到汉化包 `game\tl\zhCN\dialogue` 目录下
3. 为游戏 `test` 副本应用汉化包，覆盖所有重复的文件
4. 启动游戏进行测试
    - 切换至英文，测试界面、对话，快进至选项测试选项
    - 切换至中文，测试界面、对话，快进至选项测试选项
5. 

## 完成
1. 清理目录(注意：未备份存档的请先备份)
Windows `%APPDATA%/RenPy/` 和 `游戏根目录/game/saves`
Mac OS X `~/Library/RenPy/`
Linux/Other `~/.renpy/`
2. 为游戏应用汉化包
3. 恢复存档
将备份的saves文件夹复制回游戏中
4. GalGame，启动！
5. (可选) 将汉化包信息完善完整，压缩存档


这篇文章到这里终于结束了。。。
真的花了主播整整一周多的时间，主播不需要流量，但只求大家不要随便转载
感谢阅读，祝你玩得开心~

> 参考文章：[Ren'Py制作汉化完全教程](https://www.nothamor.com/index.php/archives/renpyTranslate.html)
> 作者：[欧尼酱](https://www.nothamor.com/)

> 参考视频：[小白级renpy游戏界面程序的汉化教程（windows）](https://www.bilibili.com/video/av682202920/?vd_source=c56a22016039afcbbe6c27e8d3bb663b)
> 作者：账号已注销
> 来源：[BiliBili](https://bilibili.com)
> 备注：本视频文字版已消失

> 参考文章：[用AiNiee+ChatGPT翻译renpy游戏](https://mqicwiomylm.feishu.cn/docx/KP9TdU50ToIROAxIifecUhErnHA)
> 作者：[TJJ120635](https://www.zhihu.com/people/tjj-76-14)
> 来源：[知乎](https://zhihu.com), 飞书

> 鸣谢：
> [kyoxb](mailto:kyoxb2@163.com) 提供代码支持
> AiNiee, RenpyTranslator, Ren'py