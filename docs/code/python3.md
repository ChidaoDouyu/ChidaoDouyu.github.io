---
article: false
title: Python教程
---

> [!warning]
> 本教程仅供具有一定代码基础的爱好者学习借鉴
> 对于执行任何操作所造成的后果, 作者不予负责

> [!info]
> 本文随作者学习而更新

## 变量
输出变量类型 `type(变量名)`
**可迭代对象(iterable object)** 包含字符串, 元组, 列表, 字典, range对象, 集合等

## 数字计算
开平方根 `sqrt(数字)` 返回浮点数

## 浮点数
保留n位小数 `format(浮点数, '.nf')`

## 字符串
切片 `字符串[i]`
变小写 `字符串.lower()`
变大写 `字符串.upper()`
转整数型 `int(字符串)`
按字符切片转列表 `list(字符串)`
按分隔符切片转列表 `字符串.split(str='分隔符',num=分割次数)` 返回列表
> 分隔符默认为所有空字符 包含：' ','\n','\t',...
> 分割次数默认为 -1，即全部分割

判定结尾字符串 `字符串.endswith(结尾判定)` 返回布尔值
查看某字符串的数量 `字符串.count(字符串)`

## 列表
在结尾添加元素 `列表名.append(元素)`
取列表最大值 `max(列表名)`
取列表最小值 `min(列表名)`
遍历元素 `i in range(0,len(列表)-1)`
以指定函数遍历执行序列元素 `map(函数,序列)` 返回迭代器
查看列表中某元素的数量 `列表.count(元素)`
反转列表 `reversed(列表)` 返回反转的迭代器
排序列表 `列表.sort(reverse=False)`
> `reverse = False`为升序(默认)
> 更多参数请自行学习

列表推导式 `[新列表元素 for 旧列表元素 in 可迭代对象 if 条件]`

## 字典
键视图 `字典.keys()` 返回视图对象
值视图 `字典.values()` 返回视图对象
键值对视图 `字典.items()` 返回视图对象

## 函数
格式
```
def 函数名(参量):
    ...
    return 返回值
```

## print语句
核心语法 `print()`

### 占位符 `%` 格式化
元组表达 `print(' %d          %s     ' %(整数变量0, 字符串变量1) )` 按顺序对应
字典表达 `print(' %(name)d    %(age)s' %{'name':整数变量0, 'age':字符串变量1} )` 按键值对应
数据类型代号：
- `%d` 整数
- `%s` 字符串
- `%.nf` 保留n位小数的浮点数
- ...

辅助符号：
- `%` 用于转义 `%` (`%%` 将被打印为符号 `%`)
- ...

### format 格式化 (python_version >= 3.0)
**核心语法** `字符串.format()`
**顺序表达** `print('{} {}'.format(变量0, 变量1) )` 按花括号内数字顺序对应(默认顺序对应)
**关键字表达** `print('{age} {name}'.format(age = 变量0, name = 变量1) )`
> 以上两种表达可以任意组合

**字典表达** `print('{0[name]} {0[age]} {0[hobby]}.format(字典变量0)')` 中括号内为键值
也可以使用数据类型代号和辅助符号 `print('{0} {age:d}'.format(变量0, age = 整数变量1) )`
格式化浮点数 `print('{:.nf}'.format(浮点数变量0))` n代表保留几位小数

### f-string 格式化 (python_version >= 3.6)
**核心语法** `print(f'{变量0}')` 
**函数表达** `print(f'{变量0 + 变量1}')` 函数或语句 `变量0 + 变量1` 将被执行并自动填入返回值
**内引号**不能与外引号(字符串定界符)冲突
如: 引用字典时, 键值的引号使用双引号, 避免与母字符串的单引号冲突 `print(f'{字典["键值"]}')`
**转义**:  `{{` 将被打印为符号 `{` (右花括号同理)
也可以使用数据类型代号和辅助符号 `print(f'{变量0:.nf}')` n代表保留几位小数


## 循环语句
for循环语句
```
for i in range(开始,结束+1):
    ...
```

for遍历字符串
```
for 字符 in 字符串:
    ...
```

for遍历列表
```
for 元素 in 列表：
    ...
```

while循环语句
```
i = 0
while i <= n:
    ...
    i += 1
```

## 条件语句
if条件语句
```
if 条件:
    ...
(可选) elif 条件2:
    ...
(可选) else:
    ...
```

if判断列表元素是否存在某项
```
for 元素 in 列表:
    if 元素 in ('a','e','i','o','u'):
        return True
```

## format()函数
### 核心语法
`format(待格式化对象,格式说明符)`
### 格式说明符
1.  格式说明符通用结构（各部分均可选，按顺序排列）
    `[[填充字符]对齐方式][符号][#][0][宽度][,/_][.精度][类型]`

2.  核心分类说明
    -  对齐与填充说明符
        -  作用：控制字符串/数字的对齐方式，及空白位置填充字符（默认填充空格，仅支持单个字符）
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `<` | 左对齐（默认对字符串生效） | `format('abc', '<10')` | `'abc       '`（总宽度10，右侧补空格） |
            | `>` | 右对齐（默认对数字生效） | `format('abc', '>10')` | `'       abc'`（总宽度10，左侧补空格） |
            | `^` | 居中对齐 | `format('abc', '^10')` | `'   abc    '`（总宽度10，两侧补空格） |
            | `=` | 仅对数字有效：符号左对齐，数字右对齐，填充在符号与数字间 | `format(-123, '0=10')` | `'-000000123'`（总宽度10，中间补0） |
            | 自定义填充 | 置于对齐方式前，指定单个填充字符 | `format('abc', '*<10')` | `'abc*******'`（右侧补*） |
    -  符号说明符
        -  作用：仅对数字类型生效，控制正负号显示规则
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `+` | 正数显示`+`，负数显示`-` | `format(123, '+10')`、`format(-123, '+10')` | `'       +123'`、`'       -123'` |
            | `-` | 正数不显示符号，负数显示`-`（默认规则） | `format(123, '-10')`、`format(-123, '-10')` | `'        123'`、`'       -123'` |
            | 空格 | 正数前加1个空格，负数显示`-`（用于正负数字对齐） | `format(123, ' 10')`、`format(-123, ' 10')` | `'        123'`（前有空格）、`'       -123'` |
    -  进制前缀说明符（`#`）
        -  作用：仅对进制转换类型（b/o/x/X）生效，控制是否显示进制前缀
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `#` | 显示进制前缀（二进制0b、八进制0o、十六进制0x/0X） | `format(10, '#b')`、`format(10, '#X')` | `'0b1010'`、`'0XA'` |
            | 无`#` | 不显示进制前缀（默认） | `format(10, 'b')`、`format(10, 'X')` | `'1010'`、`'A'` |
                -  宽度与补零说明符
                    -  宽度说明符
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `n`（整数） | 指定格式化后字符串总长度，超出则按实际长度显示 | `format('abc', '10')`、`format(123, '10')` | `'       abc'`、`'        123'` |
        -  补零说明符（`0`）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `0n` | 总宽度n，不足部分补0（数字补在符号后，字符串补在左侧） | `format(123, '05')`、`format(-123, '05')` | `'00123'`、`'-0123'` |
                -  千分位分隔符（`,/_`）
                    -  作用：仅对数字类型生效，提升大数字可读性
                    -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `,` | 英文千位分隔符（每3位分隔） | `format(1234567, ',')`、`format(1234567.89, ',.2f')` | `'1,234,567'`、`'1,234,567.89'` |
            | `_` | 通用千位分隔符（支持二进制/八进制/十六进制） | `format(1234567, '_')`、`format(0x1234567, '#_x')` | `'1_234_567'`、`'0x12_34_567'` |
    -  精度说明符（`.n`）
        -  作用：根据后续类型说明符，功能不同（n为非负整数）
        -  详细说明：
            | 适用类型 | 功能描述 | 示例 | 输出结果 |
            |----------|----------|------|----------|
            | 字符串（s） | 截取前n个字符 | `format('abcdefg', '.3s')` | `'abc'` |
            | 浮点数（f/F/e/E） | 保留n位小数（四舍五入） | `format(3.14159, '.2f')`、`format(3.14159, '.2e')` | `'3.14'`、`'3.14e+00'` |
            | 浮点数（g/G） | 保留n位有效数字（去除末尾无效零） | `format(3.14159, '.3g')`、`format(1234.56, '.3g')` | `'3.14'`、`'1.23e+03'` |
            | 整数（d/b/o/x） | 无实际效果（不报错） | `format(123, '.3d')` | `'123'` |
    -  类型说明符（核心）
        -  整数类型（int/bool，bool转为1/0）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `d` | 十进制整数（默认） | `format(10, 'd')`、`format(True, 'd')` | `'10'`、`'1'` |
            | `b` | 二进制整数 | `format(10, 'b')` | `'1010'` |
            | `o` | 八进制整数 | `format(10, 'o')` | `'12'` |
            | `x` | 小写十六进制整数 | `format(10, 'x')` | `'a'` |
            | `X` | 大写十六进制整数 | `format(10, 'X')` | `'A'` |
            | `c` | 转换为ASCII字符 | `format(65, 'c')`、`format(97, 'c')` | `'A'`、`'a'` |
            | `n` | 等价于`d`，按系统本地化显示千分位 | `format(1234567, 'n')` | `'1,234,567'`（英文环境） |
        -  浮点数/小数类型（float/Decimal）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `f` | 固定小数格式（小写） | `format(3.14159, '.2f')` | `'3.14'` |
            | `F` | 固定小数格式（大写，NaN/inf显示为大写） | `format(float('nan'), 'F')` | `'NAN'` |
            | `e` | 小写科学计数法（默认保留6位小数） | `format(1234.56, 'e')` | `'1.234560e+03'` |
            | `E` | 大写科学计数法 | `format(1234.56, 'E')` | `'1.234560E+03'` |
            | `g` | 自动选`f`/`e`，去除末尾无效零（小写） | `format(1234.56, 'g')`、`format(0.00123456, 'g')` | `'1234.56'`、`'0.00123456'` |
            | `G` | 自动选`F`/`E`，去除末尾无效零（大写） | `format(1234.56, 'G')` | `'1234.56'` |
            | `%` | 百分比格式（×100后加%） | `format(0.75, '.1%')` | `'75.0%'` |
            | `n` | 等价于`g`，按系统本地化显示千分位 | `format(1234.56, 'n')` | `'1,234.56'`（英文环境） |
        -  字符串类型（str）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `s` | 字符串格式（默认，可截取） | `format('abcdefg', 's')`、`format('abcdefg', '.3s')` | `'abcdefg'`、`'abc'` |
            | `r` | repr格式（输出字面量，含引号） | `format('abc', 'r')` | `"'abc'"` |
            | `a` | ascii格式（非ASCII字符转为转义序列） | `format('中文', 'a')` | `"'\\u4e2d\\u6587'"` |
                    -  其他特殊类型
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | 无类型符 | 自动按对象类型选默认格式 | `format(10)`、`format('abc')`、`format(3.14)` | `'10'`、`'abc'`、`'3.14'` |
            | 日期时间 | 对datetime对象，结合时间格式符使用 | `format(datetime.datetime(2025,12,27), '%Y-%m-%d')` | `'2025-12-27'` |

3.  综合示例（多格式符组合）
```python :no-collapsed-lines
# 填充+对齐+符号+宽度+千分位+精度+类型
print(format(-123456.789, '*>+15,.2f'))
# 输出：'*****-$123,456.79'

# 进制+前缀+补零+宽度
print(format(10, '#08x'))
# 输出：'0x00000a'

# 字符串+填充+居中+精度
print(format('Python', '*^10.4s'))
# 输出：'***Pyth***'
```