---
article: true
title: Python教程
---

> [!warning]
> 本教程仅供具有一定代码基础的爱好者学习借鉴
> 对于执行任何操作所造成的后果, 作者不予负责

> [!info]
> 本文随作者学习而更新

> [!tips]
> Contribution Welcome! 欢迎贡献！
> 本教程急需重新排版

## ---变量---
输出变量类型 `type(变量名)`
判断变量是否为某类型 `isinstance(变量, 类型)` 返回布尔值
> 该方法包含了子类，适用性比`type()`更强

Python 所有变量（顶层：对象）
├── 1.  基本数据类型（非容器，无内部元素迭代）
│   ├── 不可变：整数（int）、浮点数（float）、布尔值（bool）、None
│   └── 无可变类型（基本类型均不可变）
└── 2.  容器数据类型（可存储多个元素，大部分可迭代）
    ├── 不可变容器（创建后无法修改内部元素）
    │   ├── 字符串（str）：有序、元素可重复、支持索引
    │   ├── 元组（tuple）：有序、元素可重复、支持索引
    │   └── 冻结集合（frozenset）：无序、元素不重复、不支持集合修改操作
    └── 可变容器（创建后可修改内部元素）
        ├── 列表（list）：有序、元素可重复、支持索引
        ├── 集合（set）：无序、元素不重复、不支持索引
        └── 字典（dict）：无序、键唯一 值可重复、支持键索引

**可迭代对象(iterable object)**: 跨基本/容器类型，具备“遍历元素”能力
├── 普通可迭代对象: 字符串、列表、元组、集合、字典、range对象等
└── 迭代器（可迭代对象的子集，有__next__()方法，可逐个取出元素）
    ├── 其他迭代器
    └── 生成器（迭代器的子集，按需生成元素，节省内存）
        生成器表达式: `(表达式 for 变量 in 可迭代对象)` 返回生成器


## 数字计算
开平方根 `sqrt(数字)` 返回浮点数

## 整数

## 浮点数
保留n位小数 `format(浮点数, '.nf')`

## 进制
| 进制类型 | 前缀标识            | 区分大小写 | 示例（对应十进制数值 10） |
|----------|---------------------|------------|---------------------------|
| 二进制   | `0b` 或 `0B`        | 不区分     | `0b1010`、`0B1010`        |
| 八进制   | `0o` 或 `0O`        | 不区分     | `0o12`、`0O12`            |
| 十六进制 | `0x` 或 `0X`        | 不区分     | `0xA`、`0XA`、`0x4B`      |
| 十进制   | 无前缀且不应有无效0 | -          | `10`、`75`、`0`、`255`    |

### 存储
向变量中存储非十进制数 `number = 0b1001`
> 此时非十进制数会被转换为十进制数存储
> `print(number)` 将输出 `9`

所以, 想**显示**非十进制数均需要字符串形式存储
非十进制数(字符串)转十进制 `int(字符串, 进制数)`
> 例 `int('ABBA', 16)`

整数转二进制 `bin(整数)` 返回字符串
整数转八进制 `oct(整数)` 返回字符串
整数转十六进制 `hex(整数)` 返回字符串


## 字符串
### 字符串
切片 `字符串[start:end:step]`
切出单字符 `字符串[索引]`
切片法反转字符串 `字符串[::-1]`
> `start`: 起始位置
> `stop`: 停止位置
> `step`: 步长, 默认为 `1`, `-1`为反转

切割函数 `字符串.split(str='分隔符',num=分割次数)` 返回列表
> 默认以空字符(空格, \n, \t, 等)分割
> 分割次数默认为 -1，即全部分割

进阶用法:  `变量1, 变量2, ..., 变量n = 字符串.split(,n)` 变量类型为字符串
> 效果: 同时定义n个变量, 达到分割字符串的效果

变小写 `字符串.lower()`
变大写 `字符串.upper()`
检测是否全是大写 `字符串.isupper()`
转整数型 `int(字符串)`
按字符切片转列表 `list(字符串)`
判定结尾字符串 `字符串.endswith(结尾判定)` 返回布尔值
查看某字符串的数量 `字符串.count(字符串)`

## 元组
定义 `变量 = ()`
特性：有序、不可变

## 集合
定义 `变量 = set()`
特性：无序、可变、元素在集合内唯一(不可重复)
取交集 `集合1 & 集合2` 返回集合
取并集 `集合1 | 集合2` 返回集合
取补集 `属集 - 种集` 返回集合


## 列表
在结尾添加元素 `列表名.append(元素)`
取列表最大值 `max(列表名)`
取列表最小值 `min(列表名)`
遍历序列(元素) `for value in 列表名`
遍历序列 `enumerate(列表名/字符串/元组, start = n)` 返回可迭代对象`index, value`
> `start = n` 指定索引起始值(可实现由1开始的序列索引)
> 注意: 本项效果并非从第 n-1 个元素遍历, 而是将原本的 0 元素的索引改为 n , 依旧是从第一个元素开始遍历

以指定函数遍历执行序列元素 `map(函数,序列)` 返回迭代器
查看列表中某元素的数量 `列表.count(元素)`
查找指定元素的索引 `列表.index(元素)`
反转列表 `reversed(列表)` 返回反转的迭代器
排序列表 `sorted(列表, reverse = False, key = 排序依据的值)` 返回排序后的新列表
原地排序 `列表.sort(reverse = False)` 返回None
> `reverse = False`为升序(默认)
> 排序依据值 使用 [匿名函数](#匿名函数) 计算

去除重复项 `列表名 = list(set(原列表/字符串...))`
> 原理：集合是一种不可重复的序列，先`set()`转为集合自动去重，再转列表

元素拼接为字符串 `''.join(列表/元组/可迭代对象)` 返回字符串
> 元素必须为字符串; 若包含非字符串元素, 建议使用生成器表达式转换

### 列表生成式
基础语法 `[表达式 for 变量 in 可迭代对象]`
带条件判断的语法 `[表达式 for 变量 in 可迭代对象 if 条件]`
针对嵌套对象的语法 `[表达式 for 外层变量 in 嵌套可迭代对象 for 内层变量 in 外层变量]`

## 字典
键视图 `字典.keys()` 返回视图对象
值视图 `字典.values()` 返回视图对象
键值对视图 `字典.items()` 返回视图对象

## ---执行---
Python 代码（整体）
├── 两大基本执行单元
│   ├── 表达式（求“值”：是什么，能算出结果）
│   │   ├── 基础表达式（1+2、"abc"、x）
│   │   ├── 函数调用表达式（len([])、sorted([1,2])）
│   │   └── 方法调用表达式（list1.extend(list2)、"a".upper()）
│   └── 语句（做“动作”：做什么，执行操作，无返回值/返回None）
│       ├── 赋值语句（x = 1+2）
│       ├── 打印语句（print(x)）
│       ├── 条件语句（if/else）
│       ├── 循环语句（for/while）
│       └── 函数定义语句（def 函数名()）
└── 可复用功能模块（函数体系）
    ├── 函数（通用功能，可独立调用）
    │   ├── 内置全局函数（Python自带：len()、sorted()、print()）
    │   └── 自定义函数（自己用def定义：def add(a,b): ...）
    └── 方法（函数的子集：对象专属，必须“对象.方法()”调用）
        ├── 列表专属方法（list方法：extend()、append()、sort()）
        ├── 字符串专属方法（str方法：upper()、expandtabs()、split()）
        ├── 元组专属方法（tuple方法：count()、index()）
        └── 其他对象方法（dict、set等方法）

## 函数
格式
```
def 函数名(参量):
    ...
    return 返回值
```

### 匿名函数
用途: 执行简单操作并返回值
核心语法 `lambda 变量: 函数` 返回值为函数返回值
示例 `lambda word: word[-1]`

## print语句
核心语法 `print()`

### 占位符 `%` 格式化
元组表达 `print(' %d          %s     ' %(整数变量0, 字符串变量1) )` 按顺序对应
字典表达 `print(' %(name)d    %(age)s' %{'name':整数变量0, 'age':字符串变量1} )` 按键值对应
数据类型代号：
- `%d` 整数
- `%s` 字符串
- `%.nf` 保留n位小数的浮点数
- ...

辅助符号：
- `%` 用于转义 `%` (`%%` 将被打印为符号 `%`)
- ...

### format 格式化 (python_version >= 3.0)
**核心语法** `字符串.format()`
**顺序表达** `print('{} {}'.format(变量0, 变量1) )` 按花括号内数字顺序对应(默认顺序对应)
**关键字表达** `print('{age} {name}'.format(age = 变量0, name = 变量1) )`
> 以上两种表达可以任意组合

**字典表达** `print('{0[name]} {0[age]} {0[hobby]}.format(字典变量0)')` 中括号内为键值
也可以使用数据类型代号和辅助符号 `print('{0} {age:d}'.format(变量0, age = 整数变量1) )`
格式化浮点数 `print('{:.nf}'.format(浮点数变量0))` n代表保留几位小数

### f-string 格式化 (python_version >= 3.6)
**核心语法** `print(f'{变量0}')` 
**函数表达** `print(f'{变量0 + 变量1}')` 函数或语句 `变量0 + 变量1` 将被执行并自动填入返回值
**内引号**不能与外引号(字符串定界符)冲突
如: 引用字典时, 键值的引号使用双引号, 避免与母字符串的单引号冲突 `print(f'{字典["键值"]}')`
**转义**:  `{{` 将被打印为符号 `{` (右花括号同理)
也可以使用数据类型代号和辅助符号 `print(f'{变量0:.nf}')` n代表保留几位小数

## input语句
核心语法 `input()` 返回字符串


## 循环语句
for循环语句
```
for i in range(开始,结束+1):
    ...
```

for遍历字符串
```
for 字符 in 字符串:
    ...
```

for遍历列表
```
for 元素 in 列表：
    ...
```

while循环语句
```
i = 0
while i <= n:
    ...
    i += 1
```

## 条件语句
if条件语句
```
if 条件:
    ...
(可选) elif 条件2:
    ...
(可选) else:
    ...
```

if判断列表元素是否存在某项
```
for 元素 in 列表:
    if 元素 in ('a','e','i','o','u'):
        return True
```

判断身份 `if 变量 is None/list/str/bool/...:`
判断空列表 `if not 列表名`
> 该判断语句实质上是在判断列表本身的布尔值
> 若列表为空, 则列表为假; 若列表有元素, 则列表为真
> `not 布尔值` 为非运算语句

## format()函数
### 核心语法
`format(待格式化对象,格式说明符)`
### 格式说明符
1.  格式说明符通用结构（各部分均可选，按顺序排列）
    `[[填充字符]对齐方式][符号][#][0][宽度][,/_][.精度][类型]`

2.  核心分类说明
    -  对齐与填充说明符
        -  作用：控制字符串/数字的对齐方式，及空白位置填充字符（默认填充空格，仅支持单个字符）
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `<` | 左对齐（默认对字符串生效） | `format('abc', '<10')` | `'abc       '`（总宽度10，右侧补空格） |
            | `>` | 右对齐（默认对数字生效） | `format('abc', '>10')` | `'       abc'`（总宽度10，左侧补空格） |
            | `^` | 居中对齐 | `format('abc', '^10')` | `'   abc    '`（总宽度10，两侧补空格） |
            | `=` | 仅对数字有效：符号左对齐，数字右对齐，填充在符号与数字间 | `format(-123, '0=10')` | `'-000000123'`（总宽度10，中间补0） |
            | 自定义填充 | 置于对齐方式前，指定单个填充字符 | `format('abc', '*<10')` | `'abc*******'`（右侧补*） |
    -  符号说明符
        -  作用：仅对数字类型生效，控制正负号显示规则
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `+` | 正数显示`+`，负数显示`-` | `format(123, '+10')`、`format(-123, '+10')` | `'       +123'`、`'       -123'` |
            | `-` | 正数不显示符号，负数显示`-`（默认规则） | `format(123, '-10')`、`format(-123, '-10')` | `'        123'`、`'       -123'` |
            | 空格 | 正数前加1个空格，负数显示`-`（用于正负数字对齐） | `format(123, ' 10')`、`format(-123, ' 10')` | `'        123'`（前有空格）、`'       -123'` |
    -  进制前缀说明符（`#`）
        -  作用：仅对进制转换类型（b/o/x/X）生效，控制是否显示进制前缀
        -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `#` | 显示进制前缀（二进制0b、八进制0o、十六进制0x/0X） | `format(10, '#b')`、`format(10, '#X')` | `'0b1010'`、`'0XA'` |
            | 无`#` | 不显示进制前缀（默认） | `format(10, 'b')`、`format(10, 'X')` | `'1010'`、`'A'` |
                -  宽度与补零说明符
                    -  宽度说明符
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `n`（整数） | 指定格式化后字符串总长度，超出则按实际长度显示 | `format('abc', '10')`、`format(123, '10')` | `'       abc'`、`'        123'` |
        -  补零说明符（`0`）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `0n` | 总宽度n，不足部分补0（数字补在符号后，字符串补在左侧） | `format(123, '05')`、`format(-123, '05')` | `'00123'`、`'-0123'` |
                -  千分位分隔符（`,/_`）
                    -  作用：仅对数字类型生效，提升大数字可读性
                    -  详细说明：
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `,` | 英文千位分隔符（每3位分隔） | `format(1234567, ',')`、`format(1234567.89, ',.2f')` | `'1,234,567'`、`'1,234,567.89'` |
            | `_` | 通用千位分隔符（支持二进制/八进制/十六进制） | `format(1234567, '_')`、`format(0x1234567, '#_x')` | `'1_234_567'`、`'0x12_34_567'` |
    -  精度说明符（`.n`）
        -  作用：根据后续类型说明符，功能不同（n为非负整数）
        -  详细说明：
            | 适用类型 | 功能描述 | 示例 | 输出结果 |
            |----------|----------|------|----------|
            | 字符串（s） | 截取前n个字符 | `format('abcdefg', '.3s')` | `'abc'` |
            | 浮点数（f/F/e/E） | 保留n位小数（四舍五入） | `format(3.14159, '.2f')`、`format(3.14159, '.2e')` | `'3.14'`、`'3.14e+00'` |
            | 浮点数（g/G） | 保留n位有效数字（去除末尾无效零） | `format(3.14159, '.3g')`、`format(1234.56, '.3g')` | `'3.14'`、`'1.23e+03'` |
            | 整数（d/b/o/x） | 无实际效果（不报错） | `format(123, '.3d')` | `'123'` |
    -  类型说明符（核心）
        -  整数类型（int/bool，bool转为1/0）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `d` | 十进制整数（默认） | `format(10, 'd')`、`format(True, 'd')` | `'10'`、`'1'` |
            | `b` | 二进制整数 | `format(10, 'b')` | `'1010'` |
            | `o` | 八进制整数 | `format(10, 'o')` | `'12'` |
            | `x` | 小写十六进制整数 | `format(10, 'x')` | `'a'` |
            | `X` | 大写十六进制整数 | `format(10, 'X')` | `'A'` |
            | `c` | 转换为ASCII字符 | `format(65, 'c')`、`format(97, 'c')` | `'A'`、`'a'` |
            | `n` | 等价于`d`，按系统本地化显示千分位 | `format(1234567, 'n')` | `'1,234,567'`（英文环境） |
        -  浮点数/小数类型（float/Decimal）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `f` | 固定小数格式（小写） | `format(3.14159, '.2f')` | `'3.14'` |
            | `F` | 固定小数格式（大写，NaN/inf显示为大写） | `format(float('nan'), 'F')` | `'NAN'` |
            | `e` | 小写科学计数法（默认保留6位小数） | `format(1234.56, 'e')` | `'1.234560e+03'` |
            | `E` | 大写科学计数法 | `format(1234.56, 'E')` | `'1.234560E+03'` |
            | `g` | 自动选`f`/`e`，去除末尾无效零（小写） | `format(1234.56, 'g')`、`format(0.00123456, 'g')` | `'1234.56'`、`'0.00123456'` |
            | `G` | 自动选`F`/`E`，去除末尾无效零（大写） | `format(1234.56, 'G')` | `'1234.56'` |
            | `%` | 百分比格式（×100后加%） | `format(0.75, '.1%')` | `'75.0%'` |
            | `n` | 等价于`g`，按系统本地化显示千分位 | `format(1234.56, 'n')` | `'1,234.56'`（英文环境） |
        -  字符串类型（str）
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | `s` | 字符串格式（默认，可截取） | `format('abcdefg', 's')`、`format('abcdefg', '.3s')` | `'abcdefg'`、`'abc'` |
            | `r` | repr格式（输出字面量，含引号） | `format('abc', 'r')` | `"'abc'"` |
            | `a` | ascii格式（非ASCII字符转为转义序列） | `format('中文', 'a')` | `"'\\u4e2d\\u6587'"` |
                    -  其他特殊类型
            | 格式符 | 功能描述 | 示例 | 输出结果 |
            |--------|----------|------|----------|
            | 无类型符 | 自动按对象类型选默认格式 | `format(10)`、`format('abc')`、`format(3.14)` | `'10'`、`'abc'`、`'3.14'` |
            | 日期时间 | 对datetime对象，结合时间格式符使用 | `format(datetime.datetime(2025,12,27), '%Y-%m-%d')` | `'2025-12-27'` |

3.  综合示例（多格式符组合）
```python :no-collapsed-lines
# 填充+对齐+符号+宽度+千分位+精度+类型
print(format(-123456.789, '*>+15,.2f'))
# 输出：'*****-$123,456.79'

# 进制+前缀+补零+宽度
print(format(10, '#08x'))
# 输出：'0x00000a'

# 字符串+填充+居中+精度
print(format('Python', '*^10.4s'))
# 输出：'***Pyth***'
```

## Datetime 模块
引入了 `date()` 对象
从 'yyyy-mm-dd' 格式的字符串解析date对象 `datetime.date.fromisoformat(字符串)`

## string模块
### 内置字符集
小写字母 `string.ascii_lowercase`
大写字母 `string.ascii_uppercase`